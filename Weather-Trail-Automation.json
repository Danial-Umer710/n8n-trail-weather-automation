{
  "name": "My workflow 2",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 5
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        288
      ],
      "id": "1e47796b-4fe9-40a7-803e-47642bd9ae91",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "You have access to a Google Sheet that contains trail details, including elevation, location, miles, and estimated time.\n\nYour daily tasks are:\n\nCheck the current weather forecast for the locations listed in the Google Sheet.\n\nBased on the weather and trail constraints (elevation, miles, and time), determine which trail is the best option for the day.\n\nIf the weather conditions are unsafe (e.g., storms, heavy rain, extreme heat, poor air quality), include a clear warning in the email that I should not go for a trail run that day.\n\nSend me an email every day with:\n\nA summary of the weather for the trail locations.\n\nThe recommended trail for the day (if conditions are suitable).\n\nA short explanation of why this trail is the best choice given the weather and trail details.\n\nA clear warning if conditions are not suitable for running.\n\nThe email should be clear, concise, and actionable.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        208,
        288
      ],
      "id": "905864c5-9f4d-4870-ae86-b46aaeb5632a",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "trail-run-session"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        80,
        496
      ],
      "id": "7ade1f3f-2e8a-40fa-aedb-6fef7f3f78c5",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "daniiiboy717@gmail.com",
          "mode": "list",
          "cachedResultName": "daniiiboy717@gmail.com"
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        208,
        496
      ],
      "id": "2070b8c3-7218-4018-b75f-e051241d1d54",
      "name": "Check Calender",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "me6wNkiXQHYUgiBc",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "format": "imperial",
        "cityName": "Draper,  US"
      },
      "type": "n8n-nodes-base.openWeatherMapTool",
      "typeVersion": 1,
      "position": [
        752,
        496
      ],
      "id": "803f242e-62d6-4eb7-b8fd-2abf932567cb",
      "name": "GetWeather",
      "credentials": {
        "openWeatherMapApi": {
          "id": "Ns4sbZIFV59ICVSR",
          "name": "OpenWeatherMap account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1Djc36-Iu-k6NGPXxbGJvTvPRS29gWB4R6kQXj94BGrc",
          "mode": "list",
          "cachedResultName": "Trails",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Djc36-Iu-k6NGPXxbGJvTvPRS29gWB4R6kQXj94BGrc/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Runs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Djc36-Iu-k6NGPXxbGJvTvPRS29gWB4R6kQXj94BGrc/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        384,
        496
      ],
      "id": "79270d05-1187-458a-80a6-2818d39cd10b",
      "name": "GetTrailList",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "l8E1O7192NFrn3mk",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "daniiiboy717@gmail.com",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        576,
        496
      ],
      "id": "1482cde9-41c3-4167-ac82-8812859fdc59",
      "name": "SendMessage",
      "webhookId": "448baaff-911e-484f-8dbb-47a69793b640",
      "credentials": {
        "gmailOAuth2": {
          "id": "zNEOZFNff9TIvbi5",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1-mini",
          "mode": "list",
          "cachedResultName": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -64,
        496
      ],
      "id": "8cef3e62-9743-4984-bdb9-5e21c5bf8226",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "AeTuo6WCxWlT8fgW",
          "name": "OpenAi account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Check Calender": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "GetWeather": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "GetTrailList": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "SendMessage": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "57e49772-36f7-4df8-83b8-d7bd413fd726",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "cdf83c2a34157eb6696a1a9e2e4643a38c38d921a999f3db577d81a4f0e2937d"
  },
  "id": "90QhOO5BpsDO2PE2",
  "tags": []
}